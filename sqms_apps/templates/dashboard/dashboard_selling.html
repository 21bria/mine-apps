<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
    {% include 'layout-new/head.html' %}
</head>

<body x-data="main" class="relative overflow-x-hidden font-nunito text-sm font-normal antialiased"
    :class="[ $store.app.sidebar ? 'toggle-sidebar' : '', $store.app.theme === 'dark' || $store.app.isDarkMode ?  'dark' : '', $store.app.menu, $store.app.layout,$store.app.rtlClass]">
    <!-- sidebar menu overlay -->
    <div x-cloak="" class="fixed inset-0 z-50 bg-[black]/60 lg:hidden" :class="{'hidden' : !$store.app.sidebar}"
        @click="$store.app.toggleSidebar()"></div>

    <!-- screen loader -->
    <div
        class="screen_loader animate__animated fixed inset-0 z-[60] grid place-content-center bg-[#fafafa] dark:bg-[#060818]">
        <svg width="64" height="64" viewbox="0 0 135 135" xmlns="http://www.w3.org/2000/svg" fill="#4361ee">
            <path
                d="M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z">
                <animatetransform attributename="transform" type="rotate" from="0 67 67" to="-360 67 67" dur="2.5s"
                    repeatcount="indefinite"></animatetransform>
            </path>
            <path
                d="M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z">
                <animatetransform attributename="transform" type="rotate" from="0 67 67" to="360 67 67" dur="8s"
                    repeatcount="indefinite"></animatetransform>
            </path>
        </svg>
    </div>

    <!-- scroll to top button -->
    <div class="fixed bottom-6 z-50 ltr:right-6 rtl:left-6" x-data="scrollToTop">
        <template x-if="showTopButton">
            <button type="button"
                class="btn btn-outline-primary animate-pulse rounded-full bg-[#fafafa] p-2 dark:bg-[#060818] dark:hover:bg-primary"
                @click="goToTop">
                <svg width="24" height="24" class="h-4 w-4" viewbox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd"
                        d="M12 20.75C12.4142 20.75 12.75 20.4142 12.75 20L12.75 10.75L11.25 10.75L11.25 20C11.25 20.4142 11.5858 20.75 12 20.75Z"
                        fill="currentColor"></path>
                    <path
                        d="M6.00002 10.75C5.69667 10.75 5.4232 10.5673 5.30711 10.287C5.19103 10.0068 5.25519 9.68417 5.46969 9.46967L11.4697 3.46967C11.6103 3.32902 11.8011 3.25 12 3.25C12.1989 3.25 12.3897 3.32902 12.5304 3.46967L18.5304 9.46967C18.7449 9.68417 18.809 10.0068 18.6929 10.287C18.5768 10.5673 18.3034 10.75 18 10.75L6.00002 10.75Z"
                        fill="currentColor"></path>
                </svg>
            </button>
        </template>
    </div>

    <!-- start theme customizer section -->
    {% include 'layout-new/customizer.html' %}
    <!-- end theme customizer section -->

    <div class="main-container min-h-screen text-black dark:text-white-dark" :class="[$store.app.navbar]">
        <!-- start sidebar section -->
        {% include 'layout-new/sidebar.html' %}
        <!-- end sidebar section -->

        <div class="main-content flex flex-col min-h-screen">
            <!-- start header section -->
            {% include 'layout-new/header.html' %}
            <!-- end header section -->
            <div class="animate__animated p-6" :class="[$store.app.animation]">
                <div x-data="finance">
                    <!-- Menampilkan nama pengguna yang login -->
                    <div class="mt-4 text-lg text-gray-300">
                        <!-- Jika hanya ingin menampilkan nama pengguna (username) -->
                        <div class="mt-4 text-lg text-gray-600"> Welcome, {{ user.first_name }} </div>
                    </div>
                    <div class="mb-5 flex items-center">
                        <!-- <h5 class="text-lg font-semibold dark:text-white-light">Mtd - Ore Class</h5> -->
                        <div x-data="form" class="dropdown ltr:ml-auto rtl:mr-auto">
                            <div class="inline-flex">
                                <div>
                                    <select id="filter_year" name="filter_year" class="form-select text-white-dark">
                                        <option value="">-- Year --</option>
                                    </select>
                                </div>

                                <div class="dropdown">
                                    <select id="filter_month" name="filter_month" class="form-select text-white-dark">
                                        <option value="">Month</option>
                                        <option value="1">Januari</option>
                                        <option value="2">Februari</option>
                                        <option value="3">Maret</option>
                                        <option value="4">April</option>
                                        <option value="5">Mei</option>
                                        <option value="6">Juni</option>
                                        <option value="7">Juli</option>
                                        <option value="8">Agustus</option>
                                        <option value="9">September</option>
                                        <option value="10">Oktober</option>
                                        <option value="11">November</option>
                                        <option value="12">Desember</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card Top -->
                {% include 'dashboard/selling/view_top.html' %}
                <!-- Call View Selling Year to Date -->
                {% include 'dashboard/selling/view_selling_ytd.html' %}
                <!-- Call Daily Grade (HPAL & RKEF) -->
                {% include 'dashboard/selling/view_selling_grade_mtd.html' %}
                <!-- Call Sample -->
                {% include 'dashboard/selling/view_samples.html' %}
                <!-- Grade Ytd Ni % -->
                {% include 'dashboard/selling/view_selling_grade_ytd.html' %}
                <!-- For type Selling -->
                {% include 'dashboard/selling/view_selling_type.html' %}
            </div>

        </div>

        <!-- start footer section -->
        <div class="p-6 pt-0 mt-auto text-center dark:text-white-dark ltr:sm:text-left rtl:sm:text-right">
            © <span id="footer-year">2022</span>. SQMS All rights reserved.
        </div>
        <!-- end footer section -->
    </div>
    </div>

    <!-- JAVASCRIPT -->
    {% include "layout-new/js.html" %}


    <script>
        // main section
        document.addEventListener('alpine:init', () => {
            // content section
            Alpine.data('finance', () => ({
                init() {
                    isDark = this.$store.app.theme === 'dark' || this.$store.app.isDarkMode ? true : false;
                    isRtl = this.$store.app.rtlClass === 'rtl' ? true : false;
                    const saleYear = null;
                    const sellingDaily = null;
                    const saleByCategoryMtd = null;
                    const dailyGradeHpal = null;
                    const dailyGradeRkef = null;
                    const sampleYear = null;
                    const sampleMonth = null;
                    const totalSampleWeeks = null;
                    const sampleDays = null;
                    const YtdGradeNiHpal = null;
                    const YtdGradeNiRkef = null;
                    const YtdTypeSelling = null;
                    const pieTypeSellingYtd = null;
                    // Pass Header Token
                    $.ajaxSetup({
                        headers: {
                            "X-CSRFToken": $('meta[name="csrf-token"]').attr("content"),
                        },
                    });

                    // Fetch year options for ore
                    $.ajax({
                        url: "{% url 'get-year-ore' %}",
                        method: "GET",
                        dataType: "json",
                        success: (data) => {
                            let options = "";
                            $.each(data.tahun_pds, (key, value) => {
                                options += `<option value="${value.tahun}">${value.tahun}</option>`;
                            });
                            $("#filter_year").append(options);
                            $("#filter_mtd_ore").append(options);
                        },
                    });

                    // Fetch year options for sale
                    $.ajax({
                        url: "{% url 'get-year-sale' %}",
                        method: "GET",
                        dataType: "json",
                        success: (data) => {
                            let options = "";
                            $.each(data.tahun, (key, value) => {
                                options += `<option value="${value.tahun}">${value.tahun}</option>`;
                            });
                            $("#filter_year_sale").append(options);
                            $("#filter_mtd_sale").append(options);
                        },
                    });

                    // Fetch initial data and update chart
                    this.fetchSalePtd();
                    this.fetchSaleWeek();
                    this.sellingYtdChart();
                    this.dailyChartSale();
                    this.saleChartMTD();
                    this.dailyGradeHpalChart();
                    this.dailyGradeRkefChart();
                    this.sampleYtdChart();
                    this.sampleMtdChart();
                    this.sampleWeekChart();
                    this.createYtdHpalGradeChart();
                    this.createYtdRkefGradeChart();
                    this.sellingTypeYtdChart();


                    this.saleYear = new ApexCharts(this.$refs.saleYear, this.barOptions);
                    this.$refs.saleYear.innerHTML = '';
                    this.saleYear.render();

                    // sales by category
                    this.saleByCategory = new ApexCharts(this.$refs.saleByCategory, this.saleByCategoryOptions);
                    this.$refs.saleByCategory.innerHTML = '';
                    this.saleByCategory.render();

                    this.sellingDaily = new ApexCharts(this.$refs.sellingDaily, this.dailyChartOptions);
                    this.$refs.sellingDaily.innerHTML = '';
                    this.sellingDaily.render();

                    this.saleByCategoryMtd = new ApexCharts(this.$refs.saleByCategoryMtd, this.saleByCategoryOptions);
                    this.$refs.saleByCategoryMtd.innerHTML = '';
                    this.saleByCategoryMtd.render();

                    this.dailyGradeHpal = new ApexCharts(this.$refs.dailyGradeHpal, this.dailyChartOptions);
                    this.$refs.dailyGradeHpal.innerHTML = '';
                    this.dailyGradeHpal.render();

                    this.dailyGradeRkef = new ApexCharts(this.$refs.dailyGradeRkef, this.dailyChartOptions);
                    this.$refs.dailyGradeRkef.innerHTML = '';
                    this.dailyGradeRkef.render();

                    this.sampleYear = new ApexCharts(this.$refs.sampleYear, this.barOptions);
                    this.$refs.sampleYear.innerHTML = '';
                    this.sampleYear.render();
                    // daily samples
                    this.sampleMonth = new ApexCharts(this.$refs.sampleMonth, this.weekChartOptions);
                    this.$refs.sampleMonth.innerHTML = '';
                    this.sampleMonth.render();
                    //total visit
                    this.totalSampleWeeks = new ApexCharts(this.$refs.totalSampleWeeks, this.sampleWeeksOptions);
                    this.totalSampleWeeks.render();

                    this.sampleDays = new ApexCharts(this.$refs.sampleDays, this.samplesDaysOptions);
                    this.sampleDays.render();

                    this.YtdGradeNiHpal = new ApexCharts(this.$refs.YtdGradeNiHpal, this.mixedChartOptions);
                    this.$refs.YtdGradeNiHpal.innerHTML = '';
                    this.YtdGradeNiHpal.render();

                    this.YtdGradeNiRkef = new ApexCharts(this.$refs.YtdGradeNiRkef, this.mixedChartOptions);
                    this.$refs.YtdGradeNiRkef.innerHTML = '';
                    this.YtdGradeNiRkef.render();

                    this.YtdTypeSelling = new ApexCharts(this.$refs.YtdTypeSelling, this.stackedBarOptions);
                    this.$refs.YtdTypeSelling.innerHTML = '';
                    this.YtdTypeSelling.render();

                    this.pieTypeSellingYtd = new ApexCharts(this.$refs.pieTypeSellingYtd, this.saleByCategoryOptions);
                    this.$refs.pieTypeSellingYtd.innerHTML = '';
                    this.pieTypeSellingYtd.render();


                    // Watch for theme changes
                    this.$watch('$store.app.theme', () => {
                        this.isDark = this.$store.app.theme === 'dark' || this.$store.app.isDarkMode ? true : false;
                        this.updateChartTheme();
                    });

                    // Watch for RTL changes
                    this.$watch('$store.app.rtlClass', () => {
                        this.isRtl = this.$store.app.rtlClass === 'rtl' ? true : false;
                        this.updateChartTheme();
                    });

                    // Fetch data when filter changes
                    document.getElementById('filter_year').addEventListener('change', (event) => {
                        const selectedYear = event.target.value;
                        const selectedMonth = $("#filter_month").val();
                        const selectedMaterial = $("#filter_material").val();
                        const filter = {
                            filter_year: selectedYear,
                            filter_month: selectedMonth,
                            filter_material: selectedMaterial
                        };
                        this.sellingYtdChart(filter);
                        this.saleChartMTD(filter);
                        this.sampleYtdChart(filter);
                        this.sampleMtdChart(filter)
                        this.createYtdHpalGradeChart(filter)
                        this.createYtdRkefGradeChart(filter)
                        this.sellingTypeYtdChart(filter)
                    });

                    document.getElementById('filter_month').addEventListener('change', (event) => {
                        const selectedMonth = event.target.value;
                        const selectedYear = $("#filter_year").val();;
                        var filter = {
                            filter_year: selectedYear,
                            filter_month: selectedMonth
                        };
                        this.saleChartMTD(filter);
                        this.sampleMtdChart(filter)
                    });

                    document.getElementById('filter_material').addEventListener('change', (event) => {
                        const selectedMaterial = event.target.value;
                        const selectedYear = $("#filter_year").val();;
                        var filter = {
                            filter_year: selectedYear,
                            filter_material: selectedMaterial
                        };
                        this.sellingTypeYtdChart(filter);
                    });

                    document.getElementById('saleDate').addEventListener('change', (event) => {
                        const selectedDate = event.target.value;
                        const filter = { filter_days: selectedDate };
                        this.dailyChartSale(filter);
                        this.dailyGradeHpalChart(filter);
                        this.dailyGradeRkefChart(filter);
                    });

                },

                fetchSalePtd() {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-sale-ptd" %}',
                        success: function (data) {
                            // createLim(data)
                            var data_hpal = data.data_hpal;
                            var data_rkef = data.data_rkef;
                            var total_sale = data.total_sale;
                            var total = total_sale.reduce((acc, curr) => acc + curr, 0); // Hitung total data

                            var rkef_percentage = 0;
                            var hpal_percentage = 0;

                            // Periksa apakah total tidak nol sebelum menghitung persentase
                            if (total !== 0) {
                                rkef_percentage = (data_rkef / total) * 100;
                                hpal_percentage = (data_hpal / total) * 100;
                            }

                            function formatAngka(jumlah) {
                                if (jumlah >= 1_000_000_000) {
                                    return (jumlah / 1_000_000_000).toFixed(3) + ' B';
                                } else if (jumlah >= 1_000_000) {
                                    return (jumlah / 1_000_000).toFixed(3) + ' M';
                                } else if (jumlah >= 1_000) {
                                    return (jumlah / 1_000).toFixed(3) + ' K';
                                } else {
                                    return jumlah.toString();
                                }
                            }

                            $("#hpal_ptd").html(formatAngka(data_hpal));
                            $("#rkef_ptd").html(formatAngka(data_rkef));
                            $("#sale_ptd").html(formatAngka(total_sale));


                            // $("#hpal_ptd").html(
                            //     data_hpal.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );
                            // $("#rkef_ptd").html(
                            //     data_rkef.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );
                            // $("#sale_ptd").html(
                            //     total_sale.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );

                            $("#hpal_ptd_perc").html(hpal_percentage.toFixed(1) + '%');
                            $("#rkef_ptd_perc").html(rkef_percentage.toFixed(1) + '%');

                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });
                },

                fetchSaleWeek() {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-week-sale" %}',
                        success: function (data) {
                            // createLim(data)
                            var data_hpal = data.total_hpal;
                            var data_rkef = data.total_rkef;

                            function formatAngka(jumlah) {
                                if (jumlah >= 1_000_000_000) {
                                    return (jumlah / 1_000_000_000).toFixed(3) + ' B';
                                } else if (jumlah >= 1_000_000) {
                                    return (jumlah / 1_000_000).toFixed(3) + ' M';
                                } else if (jumlah >= 1_000) {
                                    return (jumlah / 1_000).toFixed(3) + ' K';
                                } else {
                                    return jumlah.toString();
                                }
                            }

                            $("#hpal_week").html(formatAngka(data_hpal));
                            $("#rkef_week").html(formatAngka(data_rkef));


                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });
                },

                // Function Charts to fetch data from server 
                sellingYtdChart(filter = {}) {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-chart-sale-ytd" %}',
                        data: filter,
                        success: (data) => { // Menggunakan arrow function di sini
                            // Panggil fungsi pembuatan grafik dengan data yang diperoleh
                            const x_data = data.x_data;
                            const y_data_hpal = data.y_data_hpal;
                            const y_data_rkef = data.y_data_rkef;

                            this.saleYear.updateOptions({
                                series: [{
                                    name: 'HPAL',
                                    data: y_data_hpal
                                }, {
                                    name: 'RKEF',
                                    data: y_data_rkef
                                },
                                ],
                                xaxis: {
                                    categories: x_data,
                                },
                                colors: ['#ffc107', "#405a88", "#b9decf"],
                            });

                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });

                    $.ajax({
                        type: "GET",
                        url: '{% url "get-pie-sale-ytd" %}',
                        data: filter,
                        success: (data) => {

                            this.saleByCategory.updateOptions({
                                series: data.x_data, // Gunakan data.x_data dari respons
                                labels: data.y_data, // Gunakan data.y_data dari respons
                                colors: ["#d2c4aa", "#b7bba0", "#829d96", '#c87968'],
                                responsive: [{
                                    breakpoint: 400,
                                    options: {
                                        chart: {
                                            width: 340
                                        },
                                        legend: {
                                            show: false
                                        }
                                    }
                                }],
                                // legend: {
                                //     position: 'bottom',
                                //     offsetY: 0,
                                //     height: 50,
                                // },
                                title: {
                                    text: 'Sale Production - Ytd',
                                    // floating: true,
                                    offsetY: 0,
                                    align: 'center',
                                    style: {
                                        color: '#444'
                                    }
                                }, chart: {
                                    height: 330,
                                    type: 'donut',
                                    zoom: {
                                        enabled: false
                                    },
                                    toolbar: {
                                        show: false
                                    }
                                },
                            });
                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });

                    $.ajax({
                        type: "GET",
                        url: '{% url "get-sale-ytd" %}',
                        data: filter,
                        success: function (data) {
                            var data_rkef = data.total_rkef;
                            var data_hpal = data.total_hpal;
                            var data_total = data.x_data;
                            // var total = data_total.reduce((acc, curr) => acc + curr, 0); // Hitung total data
                            function formatAngka(jumlah) {
                                if (jumlah >= 1_000_000_000) {
                                    return (jumlah / 1_000_000_000).toFixed(3) + ' B';
                                } else if (jumlah >= 1_000_000) {
                                    return (jumlah / 1_000_000).toFixed(3) + ' M';
                                } else if (jumlah >= 1_000) {
                                    return (jumlah / 1_000).toFixed(3) + ' K';
                                } else {
                                    return jumlah.toString();
                                }
                            }

                            $("#sale_hpal_ytd").html(formatAngka(data_hpal));
                            $("#sale_rkef_ytd").html(formatAngka(data_rkef));
                            $("#total_sale_ytd").html(formatAngka(data_total));

                            // $("#total_sale_ytd").html(
                            //     data_total.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );
                            // $("#sale_hpal_ytd").html(
                            //     data_hpal.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );
                            // $("#sale_rkef_ytd").html(
                            //     data_rkef.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );

                            var data = {
                                series: [parseFloat(data.total_hpal), parseFloat(data.total_rkef)],
                                labels: ['HPAL', 'RKEF'],
                            };

                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });

                },

                dailyChartSale(filter = {}) {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-daily-sale" %}',
                        data: filter,
                        success: (data) => {
                            const x_data = data.x_data;
                            const y_data_lim = data.y_data_lim;
                            const y_data_sap = data.y_data_sap;

                            // Membuat data series untuk LIM
                            var seriesDataLIM = [];
                            for (var i = 0; i < x_data.length; i++) {
                                seriesDataLIM.push({
                                    x: x_data[i],
                                    y: y_data_lim[i],
                                });
                            }

                            // Membuat data series untuk SAP
                            var seriesDataSAP = [];
                            for (var i = 0; i < x_data.length; i++) {
                                seriesDataSAP.push({
                                    x: x_data[i],
                                    y: y_data_sap[i],
                                });
                            }
                            // Mengatur ulang data kategori dan data seri
                            this.sellingDaily.updateOptions({
                                series: [
                                    {
                                        name: "LIM",
                                        data: seriesDataLIM,
                                    },

                                    {
                                        name: "SAP",
                                        data: seriesDataSAP,
                                    },
                                ],
                                colors: ["#AAC8A7", "#02b1a4", "#f3ce04", "#E48F45"],

                                tooltip: {
                                    shared: true,
                                    intersect: false,
                                    y: {
                                        formatter: function (y) {
                                            if (typeof y !== "undefined") {
                                                return y.toLocaleString() + "  WMT";
                                            }
                                            return y;
                                        },
                                    },
                                },
                            });
                        },
                        error: function (error) {
                            console.error(error);
                        },
                    });
                },

                saleChartMTD(filter = {}) {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-daily-sale-discharge" %}',
                        data: filter,
                        success: (data) => {
                            const x_data = data.x_data;
                            const y_data = data.y_data;

                            // Mengatur ulang data kategori dan data seri
                            this.saleByCategoryMtd.updateOptions({
                                series: data.x_data, // Gunakan data.x_data dari respons
                                labels: data.y_data, // Gunakan data.y_data dari respons
                                colors: ["#AAC8A7", "#02b1a4", "#f3ce04", "#E48F45"],
                                // dataLabels: {
                                //     enabled: false
                                // },
                                responsive: [{
                                    breakpoint: 400,
                                    options: {
                                        chart: {
                                            width: 340
                                        },
                                        legend: {
                                            show: false
                                        }
                                    }
                                }],
                                legend: {
                                    position: 'bottom',
                                    offsetY: 0,
                                    // height: 50,
                                },
                                title: {
                                    text: 'Sale to dome - Mtd',
                                    // floating: true,
                                    offsetY: 0,
                                    align: 'center',
                                    style: {
                                        color: '#444'
                                    }
                                },
                                chart: {
                                    height: 330,
                                    type: 'pie',
                                    zoom: {
                                        enabled: false
                                    },
                                    toolbar: {
                                        show: false
                                    }
                                },
                            });


                        },
                        error: function (error) {
                            console.error(error);
                        },
                    });

                    $.ajax({
                        type: "GET",
                        url: '{% url "get-mtd-sale" %}',
                        data: filter,
                        success: function (data) {
                            var data_rkef = data.total_rkef;
                            var data_hpal = data.total_hpal;
                            var data_total = data.x_data;
                            // var total = data_total.reduce((acc, curr) => acc + curr, 0); // Hitung total data

                            function formatAngka(jumlah) {
                                if (jumlah >= 1_000_000_000) {
                                    return (jumlah / 1_000_000_000).toFixed(3) + ' B';
                                } else if (jumlah >= 1_000_000) {
                                    return (jumlah / 1_000_000).toFixed(3) + ' M';
                                } else if (jumlah >= 1_000) {
                                    return (jumlah / 1_000).toFixed(3) + ' K';
                                } else {
                                    return jumlah.toString();
                                }
                            }

                            $("#sale_hpal_mtd").html(formatAngka(data_hpal));
                            $("#sale_rkef_mtd").html(formatAngka(data_rkef));
                            $("#total_sale_mtd").html(formatAngka(data_total));

                            // $("#total_sale_mtd").html(
                            //     data_total.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );
                            // $("#sale_hpal_mtd").html(
                            //     data_hpal.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );
                            // $("#sale_rkef_mtd").html(
                            //     data_rkef.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            // );
                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });
                },

                dailyGradeHpalChart(filter = {}) {
                    $.ajax({
                        url: '{% url "get-sale-daily-grade-hpal" %}',
                        method: "GET",
                        data: filter,
                        success: (data) => {
                            const left_date = data.left_date;
                            const ni_internal = data.ni_internal;
                            const pulp_anindya = data.pulp_anindya;
                            const ni_official = data.ni_official;

                            // Mengatur ulang data kategori dan data seri
                            this.dailyGradeHpal.updateOptions({
                                series: [
                                    {
                                        name: 'Ni Internal',
                                        data: ni_internal,
                                        type: 'area',
                                    },
                                    {
                                        name: 'Ni Pulp',
                                        data: pulp_anindya,
                                        type: 'area',
                                    },
                                    {
                                        name: 'Ni COA',
                                        data: ni_official,
                                        type: 'area',
                                    },
                                ],

                                stroke: {
                                    show: true,
                                    curve: 'smooth',
                                    width: [1, 1, 2],
                                    lineCap: 'square',
                                },
                                title: {
                                    text: 'Grade HPAL'
                                },
                                dataLabels: {
                                    enabled: false,
                                    enabledOnSeries: [2],
                                    formatter: function (val) {
                                        return val.toLocaleString(undefined, {
                                            maximumFractionDigits: 2
                                        });

                                    },

                                },
                                labels: left_date,
                                yaxis: {
                                    tickAmount: 4,
                                    labels: {
                                        formatter: (value) => {
                                            return value.toFixed(2);
                                        },
                                        offsetX: isRtl ? -30 : -10,
                                        offsetY: 0,
                                        style: {
                                            fontSize: '12px',
                                            cssClass: 'apexcharts-yaxis-title',
                                        },
                                    },
                                    opposite: isRtl ? true : false,
                                },
                                fill: {
                                    type: 'gradient',
                                    gradient: {
                                        shadeIntensity: 1,
                                        inverseColors: !1,
                                        opacityFrom: isDark ? 0.25 : 0.45,
                                        opacityTo: 0.08,
                                        stops: isDark ? [100, 100] : [45, 100],
                                    },
                                },
                            });
                        },
                        error: function (error) {
                            console.error(error);
                        }
                    });

                },

                dailyGradeRkefChart(filter = {}) {
                    $.ajax({
                        url: '{% url "get-sale-daily-grade-rkef" %}',
                        method: "GET",
                        data: filter,
                        success: (data) => {
                            const left_date = data.left_date;
                            const ni_internal = data.ni_internal;
                            const pulp_anindya = data.pulp_anindya;
                            const ni_official = data.ni_official;

                            // Mengatur ulang data kategori dan data seri
                            this.dailyGradeRkef.updateOptions({
                                series: [
                                    {
                                        name: 'Ni Internal',
                                        data: ni_internal,
                                        type: 'area',
                                    },
                                    {
                                        name: 'Ni Pulp',
                                        data: pulp_anindya,
                                        type: 'area',
                                    },
                                    {
                                        name: 'Ni COA',
                                        data: ni_official,
                                        type: 'area',
                                    },
                                ],

                                stroke: {
                                    show: true,
                                    curve: 'smooth',
                                    width: [1, 1, 2],
                                    lineCap: 'square',
                                },
                                title: {
                                    text: 'Grade RKEF'
                                },
                                dataLabels: {
                                    enabled: false,
                                    enabledOnSeries: [2],
                                    formatter: function (val) {
                                        return val.toLocaleString(undefined, {
                                            maximumFractionDigits: 2
                                        });

                                    },

                                },
                                labels: left_date,
                                yaxis: {
                                    tickAmount: 4,
                                    labels: {
                                        formatter: (value) => {
                                            return value.toFixed(2);
                                        },
                                        offsetX: isRtl ? -30 : -10,
                                        offsetY: 0,
                                        style: {
                                            fontSize: '12px',
                                            cssClass: 'apexcharts-yaxis-title',
                                        },
                                    },
                                    opposite: isRtl ? true : false,
                                },
                                fill: {
                                    type: 'gradient',
                                    gradient: {
                                        shadeIntensity: 1,
                                        inverseColors: !1,
                                        opacityFrom: isDark ? 0.25 : 0.45,
                                        opacityTo: 0.08,
                                        stops: isDark ? [100, 100] : [45, 100],
                                    },
                                },
                            });
                        },
                        error: function (error) {
                            console.error(error);
                        }
                    });

                },

                // Samples
                sampleYtdChart(filter = {}) {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-ytd-sample-selling" %}',
                        data: filter,
                        success: (data) => { // Menggunakan arrow function di sini
                            // Panggil fungsi pembuatan grafik dengan data yang diperoleh
                            const x_data = data.x_data;
                            const y_data = data.y_data;

                            this.sampleYear.updateOptions({
                                series: [{
                                    name: 'Samples',
                                    data: y_data
                                }
                                ],
                                xaxis: {
                                    categories: x_data,
                                },
                                colors: ["#405a88", '#ffc107', "#b9decf"],
                            });

                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });

                },

                sampleMtdChart(filter = {}) {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-mtd-sample-selling" %}',
                        data: filter,
                        success: (data) => { // Menggunakan arrow function di sini
                            // Panggil fungsi pembuatan grafik dengan data yang diperoleh
                            const x_data = data.x_data;
                            const y_data = data.y_data;
                            const data_total = data.total;

                            $("#totals_samples_mtd").html(
                                data_total.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            );

                            this.sampleMonth.updateOptions({
                                series: [{
                                    name: 'Samples',
                                    data: y_data
                                }
                                ],
                                xaxis: {
                                    categories: x_data,
                                },
                                colors: ['#ffc107', "#b9decf"],
                            });

                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });

                },

                sampleWeekChart() {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-sample-this-week-selling" %}',
                        success: (data) => { // Menggunakan arrow function di sini
                            // Panggil fungsi pembuatan grafik dengan data yang diperoleh
                            const y_data = data.y_data;
                            const data_total = data.total;

                            $("#samples_this_week").html(
                                data_total.toLocaleString("en-US", { maximumFractionDigits: 2 })
                            );

                            this.totalSampleWeeks.updateOptions({
                                series: [{
                                    name: 'Samples',
                                    data: y_data

                                }
                                ],
                                colors: ['#009688'],
                            });

                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-sample-this-days-selling" %}',
                        success: (data) => { // Menggunakan arrow function di sini
                            // Panggil fungsi pembuatan grafik dengan data yang diperoleh
                            const y_data = data.y_data;

                            $("#samples_this_day").html(
                                (y_data ?? 0).toLocaleString("en-US", { maximumFractionDigits: 2 })
                            );

                            this.sampleDays.updateOptions({
                                series: [{
                                    name: 'Samples',
                                    // data: y_data
                                    data: [21, 9, 36, 12, 44, 25, 59],
                                }],
                                colors: ['#e2a03f'],
                                chart: {
                                    height: 58,
                                    type: 'area',
                                    fontFamily: 'Nunito, sans-serif',
                                    sparkline: {
                                        enabled: true,
                                    },
                                    dropShadow: {
                                        enabled: true,
                                        blur: 3,
                                        color: '#e2a03f',
                                        opacity: 0.4,
                                    },
                                },
                            });

                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });

                },

                // Grade Ni% YTD
                createYtdHpalGradeChart(filter = {}) {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-sale-grade-hpal-ytd" %}',
                        data: filter,
                        success: (data) => {
                            const bulan = data.bulan;
                            const total = data.total;
                            const ni_internal = data.ni_sum;
                            const ni_blanding = data.ni_pds_sum;
                            const ni_coa_awk = data.ni_coa_sum;
                            this.YtdGradeNiHpal.updateOptions({
                                series: [
                                    {
                                        name: 'Selling',
                                        type: 'column',
                                        data: total
                                    }, {
                                        name: 'Actual Blanding',
                                        type: 'line',
                                        data: ni_blanding
                                    }, {
                                        name: 'SCM',
                                        type: 'line',
                                        data: ni_internal
                                    },
                                    {
                                        name: 'Anindya',
                                        type: 'line',
                                        data: ni_coa_awk
                                    },

                                ],
                                dataLabels: {
                                    enabled: true,
                                    enabledOnSeries: [1, 2, 3],
                                    formatter: function (val) {
                                        return val.toLocaleString(undefined, {
                                            maximumFractionDigits: 2
                                        });

                                    },

                                },
                                stroke: {
                                    width: [0, 3, 3, 3]
                                },

                                title: {
                                    text: 'HPAL YTD Grade Ni%',
                                    align: 'left',
                                    // offsetX: 110
                                },
                                xaxis: {
                                    categories: bulan,
                                },
                                yaxis: [
                                    {
                                        seriesName: 'Selling',
                                        opposite: true,
                                        axisTicks: {
                                            show: true,
                                        },
                                        title: {
                                            text: "Selling",
                                        },
                                        tooltip: {
                                            enabled: true,
                                            formatter: function (val) {
                                                return val.toLocaleString(undefined, {
                                                    maximumFractionDigits: 2
                                                });

                                            },
                                        },
                                    },

                                    {
                                        seriesName: 'Actual Blanding',
                                        opposite: true,
                                        show: false,
                                        axisTicks: {
                                            show: true,
                                        },
                                        labels: {
                                            style: {
                                                colors: '#00E396',
                                            }
                                        },
                                        title: {
                                            text: "Grade Ni",
                                            style: {
                                                color: '#00E396',
                                            }
                                        },


                                    },
                                    {
                                        seriesName: 'SCM',
                                        opposite: true,
                                        show: false,
                                        axisTicks: {
                                            show: true,
                                        },
                                        labels: {
                                            style: {
                                                colors: '#FEB019',
                                            },
                                        },
                                        title: {
                                            text: "SCM",
                                            style: {
                                                color: '#FEB019',
                                            }
                                        },
                                        // Menambahkan min dan max untuk jarak
                                        min: 0, // Nilai minimum (misalnya 0%)
                                        max: 2.5, // Nilai maksimum (misalnya 10%)
                                        tickAmount: 5, // Jumlah tick pada sumbu Y
                                    },
                                    {
                                        seriesName: 'Anindya',
                                        // opposite: true,
                                        show: true,
                                        axisTicks: {
                                            show: true,
                                        },
                                        title: {
                                            text: "Grade Ni %",
                                        },
                                        // Menambahkan min dan max untuk jarak
                                        min: 0, // Nilai minimum (misalnya 0%)
                                        max: 2.9, // Nilai maksimum (misalnya 10%)
                                        tickAmount: 5, // Jumlah tick pada sumbu Y
                                    },
                                ],
                                tooltip: {
                                    fixed: {
                                        enabled: true,
                                        position: 'topLeft', // topRight, topLeft, bottomRight, bottomLeft
                                        offsetY: 30,
                                        offsetX: 60
                                    },
                                },
                                legend: {
                                    horizontalAlign: 'left',
                                    offsetX: 40
                                },
                                colors: ['#12436d', '#28a197', '#801650', '#f46a25'],
                            });
                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });
                },

                createYtdRkefGradeChart(filter = {}) {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-sale-grade-rkef-ytd" %}',
                        data: filter,
                        success: (data) => {
                            const bulan = data.bulan;
                            const total = data.total;
                            const ni_internal = data.ni_sum;
                            const ni_blanding = data.ni_pds_sum;
                            const ni_coa_awk = data.ni_coa_sum;

                            this.YtdGradeNiRkef.updateOptions({
                                series: [
                                    {
                                        name: 'Selling',
                                        type: 'column',
                                        data: total
                                    }, {
                                        name: 'Actual Blanding',
                                        type: 'line',
                                        data: ni_blanding
                                    }, {
                                        name: 'SCM',
                                        type: 'line',
                                        data: ni_internal
                                    },
                                    {
                                        name: 'Anindya',
                                        type: 'line',
                                        data: ni_coa_awk
                                    },

                                ],

                                dataLabels: {
                                    enabled: true,
                                    enabledOnSeries: [1, 2, 3], // Aktifkan untuk semua series
                                    formatter: function (val, opts) {
                                        // Jika seriesIndex adalah 0, tambahkan label dengan offset berbeda
                                        if (opts.seriesIndex === 0) {
                                            return val.toLocaleString(undefined, {
                                                maximumFractionDigits: 2
                                            });
                                        }
                                        // Series lainnya tetap default
                                        return val.toLocaleString(undefined, {
                                            maximumFractionDigits: 2
                                        });
                                    },
                                    style: {
                                        fontSize: '10px',
                                    },
                                },
                                stroke: {
                                    width: [0, 3, 3, 3]
                                },

                                title: {
                                    text: 'RKEF YTD Grade Ni%',
                                    align: 'left',
                                    // offsetX: 110
                                },
                                xaxis: {
                                    categories: bulan,
                                },
                                yaxis: [
                                    {
                                        seriesName: 'Selling',
                                        opposite: true,
                                        axisTicks: {
                                            show: true,
                                        },
                                        title: {
                                            text: "Selling",
                                        },
                                        tooltip: {
                                            enabled: true,
                                            formatter: function (val) {
                                                return val.toLocaleString(undefined, {
                                                    maximumFractionDigits: 2
                                                });

                                            },
                                        },
                                    },

                                    {
                                        seriesName: 'Actual Blanding',
                                        opposite: true,
                                        show: false,
                                        axisTicks: {
                                            show: true,
                                        },
                                        title: {
                                            text: "Grade Ni",
                                        },
                                    },
                                    {
                                        seriesName: 'SCM',
                                        opposite: true,
                                        show: false,
                                        axisTicks: {
                                            show: true,
                                        },
                                        labels: {
                                            style: {
                                                colors: '#FEB019',
                                            },
                                        },
                                        title: {
                                            text: "SCM",
                                            style: {
                                                color: '#FEB019',
                                            }
                                        },
                                        // Menambahkan min dan max untuk jarak
                                        min: 0, // Nilai minimum (misalnya 0%)
                                        max: 2.5, // Nilai maksimum (misalnya 10%)
                                        tickAmount: 5, // Jumlah tick pada sumbu Y
                                    },
                                    {
                                        seriesName: 'Anindya',
                                        // opposite: true,
                                        show: true,
                                        axisTicks: {
                                            show: true,
                                        },
                                        title: {
                                            text: "Grade Ni %",

                                        },
                                        // Menambahkan min dan max untuk jarak
                                        min: 0, // Nilai minimum (misalnya 0%)
                                        max: 2.9, // Nilai maksimum (misalnya 10%)
                                        tickAmount: 5, // Jumlah tick pada sumbu Y
                                    },
                                ],
                                tooltip: {
                                    fixed: {
                                        enabled: true,
                                        position: 'topLeft', // topRight, topLeft, bottomRight, bottomLeft
                                        offsetY: 30,
                                        offsetX: 60
                                    },
                                },
                                legend: {
                                    horizontalAlign: 'left',
                                    offsetX: 40
                                },
                                colors: ['#12436d', '#28a197', '#801650', '#f46a25'],

                            });
                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });
                },

                // Type Selling
                sellingTypeYtdChart(filter = {}) {
                    $.ajax({
                        type: "GET",
                        url: '{% url "get-sale-type-selling-ytd" %}',
                        data: filter,
                        success: (data) => {
                            const bulan = data.bulan;
                            // const parseData = (data) => data.map(value => parseFloat(value.replace(/,/g, '')));
                            // const DAP = parseData(data.DAP);
                            // const Exwork = parseData(data.Exwork);
                            const DAP = data.DAP;
                            const Exwork = data.Exwork;
                            const total_DAP = data.total_DAP;
                            const total_Exwork = data.total_Exwork;

                            this.YtdTypeSelling.updateOptions({
                                series: [
                                    {
                                        name: 'DAP',
                                        data: DAP
                                    },
                                    {
                                        name: 'Exwork',
                                        data: Exwork
                                    },
                                ],
                                xaxis: {
                                    categories: bulan,
                                },
                                title: {
                                    text: 'Selling Type YTD',
                                    align: 'left',
                                    // offsetX: 110
                                },
                                colors: ["#405a88", '#ffc107', "#b9decf"],
                                dataLabels: {
                                    enabled: false,
                                    enabledOnSeries: [0, 1], // Aktifkan untuk semua series
                                    formatter: function (val) {
                                        return val.toLocaleString(undefined, {
                                            maximumFractionDigits: 2
                                        });
                                    },
                                    style: {
                                        fontSize: '10px',
                                    },
                                },
                            });

                            this.pieTypeSellingYtd.updateOptions({
                                series: [total_DAP, total_Exwork],
                                labels: ['DAP', 'Exwork'],
                                colors: ["#829d96", '#c87968'],
                                responsive: [{
                                    breakpoint: 400,
                                    options: {
                                        chart: {
                                            width: 340
                                        },
                                        legend: {
                                            show: false
                                        }
                                    }
                                }],

                                title: {
                                    text: 'Selling Type - Ytd',
                                    // floating: true,
                                    offsetY: 0,
                                    align: 'center',
                                    style: {
                                        color: '#444'
                                    }
                                }, chart: {
                                    height: 330,
                                    type: 'donut',
                                    zoom: {
                                        enabled: false
                                    },
                                    toolbar: {
                                        show: false
                                    }
                                },
                            });

                        },
                        error: function (xhr, errmsg, err) {
                            console.log("Error:", errmsg);
                        },
                    });

                },

                // Setting Chart
                updateChartTheme() {
                    this.saleYear.updateOptions({
                        grid: {
                            borderColor: this.isDark ? '#191e3a' : '#e0e6ed',
                        },
                        xaxis: {
                            axisBorder: { show: true, color: this.isDark ? '#3b3f5c' : '#e0e6ed' },
                        },
                    });
                    this.sellingDaily.updateOptions({
                        grid: {
                            borderColor: this.isDark ? '#191e3a' : '#e0e6ed',
                        },
                        xaxis: {
                            axisBorder: { show: true, color: this.isDark ? '#3b3f5c' : '#e0e6ed' },
                        },
                    });
                    this.dailyGradeHpal.updateOptions({
                        grid: {
                            borderColor: this.isDark ? '#191e3a' : '#e0e6ed',
                        },
                        xaxis: {
                            axisBorder: { show: true, color: this.isDark ? '#3b3f5c' : '#e0e6ed' },
                        },
                    });
                    this.dailyGradeRkef.updateOptions({
                        grid: {
                            borderColor: this.isDark ? '#191e3a' : '#e0e6ed',
                        },
                        xaxis: {
                            axisBorder: { show: true, color: this.isDark ? '#3b3f5c' : '#e0e6ed' },
                        },
                    });

                    this.sampleYear.updateOptions({
                        grid: {
                            borderColor: this.isDark ? '#191e3a' : '#e0e6ed',
                        },
                        xaxis: {
                            axisBorder: { show: true, color: this.isDark ? '#3b3f5c' : '#e0e6ed' },
                        },
                    });

                    this.YtdGradeNiHpal.updateOptions({
                        grid: {
                            borderColor: this.isDark ? '#191e3a' : '#e0e6ed',
                        },
                    });
                    this.YtdGradeNiRkef.updateOptions({
                        grid: {
                            borderColor: this.isDark ? '#191e3a' : '#e0e6ed',
                        },
                    });

                    this.YtdTypeSelling.updateOptions({
                        grid: {
                            borderColor: this.isDark ? '#191e3a' : '#e0e6ed',
                        },
                    });
                    this.totalSampleWeeks.updateOptions();

                    this.sampleDays.updateOptions(this.samplesDaysOptions);

                },

                get barOptions() {
                    return {
                        series: [
                            { name: 'HPAL', data: [] },
                            { name: 'RKEF', data: [] }
                        ],
                        chart: {
                            height: 320,
                            type: 'bar',
                            fontFamily: 'Nunito, sans-serif',
                            toolbar: {
                                show: false,
                            },
                        },
                        dataLabels: {
                            enabled: false,
                        },
                        stroke: {
                            width: 2,
                            colors: ['transparent'],
                        },
                        // colors: ['#5c1ac3', '#5c739a', '#ffbb44'],
                        colors: ['#ffca2c', '#5c739a', '#5c1ac3', '#ffbb44'],
                        // colors: ['#ffc107', '#546ea2', '#5c739a'],
                        dropShadow: {
                            enabled: true,
                            blur: 3,
                            color: '#515365',
                            opacity: 0.4,
                        },
                        plotOptions: {
                            bar: {
                                horizontal: false,
                                columnWidth: '70%',
                                borderRadius: 0,
                            },
                        },
                        legend: {
                            position: 'bottom',
                            horizontalAlign: 'center',
                            fontSize: '14px',
                            itemMargin: {
                                horizontal: 8,
                                vertical: 8,
                            },
                        },
                        grid: {
                            borderColor: isDark ? '#191e3a' : '#e0e6ed',
                            padding: {
                                left: 20,
                                right: 20,
                            },
                        },
                        xaxis: {
                            categories: [],
                            axisBorder: {
                                show: true,
                                color: isDark ? '#3b3f5c' : '#e0e6ed',
                            },
                        },
                        yaxis: {
                            tickAmount: 4,
                            labels: {
                                formatter: (value) => {
                                    return value / 1000 + 'K';
                                },
                                offsetX: isRtl ? -10 : 0,
                                offsetY: 0,
                                style: {
                                    fontSize: '12px',
                                    cssClass: 'apexcharts-yaxis-title',
                                },
                            },
                            opposite: isRtl ? true : false,
                        },
                        fill: {

                        },
                        tooltip: {
                            marker: {
                                show: true,
                            },
                            y: {
                                formatter: (val) => {
                                    return val;
                                },
                            },
                        },
                        noData: {
                            text: "No Data...",
                        },
                    };
                },

                // area chart
                get dailyChartOptions() {
                    return {
                        series: [
                            {
                                name: 'HPAL',
                                data: [],
                            },
                            {
                                name: 'REKF',
                                data: [],
                            },
                        ],
                        chart: {
                            height: 335,
                            type: 'area',
                            fontFamily: 'Nunito, sans-serif',
                            zoom: {
                                enabled: false,
                            },
                            toolbar: {
                                show: true,
                            },
                        },
                        dataLabels: {
                            enabled: false,
                        },
                        stroke: {
                            show: true,
                            curve: 'smooth',
                            width: 2,
                            lineCap: 'square',
                        },
                        dropShadow: {
                            enabled: true,
                            opacity: 0.2,
                            blur: 10,
                            left: -7,
                            top: 22,
                        },
                        //  colors: isDark ? ['#2196f3', '#e7515a'] : ['#1b55e2', '#e7515a'],
                        colors: [],
                        labels: [],
                        xaxis: {
                            axisBorder: {
                                show: false,
                            },
                            axisTicks: {
                                show: false,
                            },
                            crosshairs: {
                                show: true,
                            },
                            labels: {
                                offsetX: isRtl ? 2 : 0,
                                offsetY: 5,
                                style: {
                                    fontSize: '12px',
                                    cssClass: 'apexcharts-xaxis-title',
                                },
                            },
                        },
                        yaxis: {
                            tickAmount: 5,
                            labels: {
                                formatter: (value) => {
                                    return value / 1000 + 'K';
                                },
                                offsetX: isRtl ? -30 : -10,
                                offsetY: 0,
                                style: {
                                    fontSize: '12px',
                                    cssClass: 'apexcharts-yaxis-title',
                                },
                            },
                            opposite: isRtl ? true : false,
                        },
                        grid: {
                            borderColor: isDark ? '#191e3a' : '#e0e6ed',
                            strokeDashArray: 0,
                            xaxis: {
                                lines: {
                                    show: false,
                                },
                            },
                            yaxis: {
                                lines: {
                                    show: true,
                                },
                            },
                            padding: {
                                top: 0,
                                right: 0,
                                bottom: 0,
                                left: 0,
                            },
                        },
                        legend: {
                            position: 'top',
                            horizontalAlign: 'right',
                            fontSize: '16px',
                            markers: {
                                width: 10,
                                height: 10,
                                offsetX: -2,
                            },
                            itemMargin: {
                                horizontal: 10,
                                vertical: 5,
                            },
                        },
                        tooltip: {
                            marker: {
                                show: true,
                            },
                            x: {
                                show: false,
                            },
                        },
                        fill: {
                            type: 'gradient',
                            gradient: {
                                shadeIntensity: 1,
                                inverseColors: !1,
                                opacityFrom: isDark ? 0.19 : 0.28,
                                opacityTo: 0.05,
                                stops: isDark ? [100, 100] : [45, 100],
                            },
                        },
                    };
                },

                // sales by category
                get saleByCategoryOptions() {
                    return {
                        series: [],
                        chart: {
                            height: 330,
                            type: 'pie',
                            zoom: {
                                enabled: false
                            },
                            toolbar: {
                                show: false
                            }
                        },
                        labels: [],
                        colors: ['#4361ee', '#805dca', '#00ab55', '#e7515a', '#e2a03f'],
                        responsive: [{
                            breakpoint: 480,
                            options: {
                                chart: {
                                    width: 200
                                }
                            }
                        }],
                        stroke: {
                            show: false,
                        },
                        legend: {
                            position: 'bottom',
                        }


                    };
                },

                get donutChartOptions() {
                    return {
                        series: [],
                        chart: {
                            height: 290,
                            type: 'donut',
                            zoom: {
                                enabled: false
                            },
                            toolbar: {
                                show: false
                            }
                        },
                        stroke: {
                            show: false,
                        },
                        labels: [],
                        colors: [],
                        responsive: [{
                            breakpoint: 400,
                            options: {
                                chart: {
                                    width: 320
                                }
                            }
                        }],
                        legend: {
                            position: 'bottom',
                        },
                    }
                },

                get mixedChartOptions() {
                    return {
                        series: [],
                        chart: {
                            height: 350,
                            type: 'line',
                            fontFamily: 'Nunito, sans-serif',
                            zoom: {
                                enabled: false,
                            },
                            toolbar: {
                                show: true,
                            },
                            animations: {
                                enabled: true,
                                easing: "easein",
                                speed: 800,
                                animateGradually: {
                                    enabled: true,
                                    delay: 150,
                                },
                                dynamicAnimation: {
                                    enabled: true,
                                    speed: 350,
                                },
                            },
                        },
                        plotOptions: {
                            bar: {
                                dataLabels: {
                                    position: 'bottom'
                                }
                            },
                            dataLabels: {
                                enabled: true,
                                offsetX: 30
                            },
                        },
                        yaxis: [],
                        grid: {
                            borderColor: isDark ? '#191e3a' : '#e0e6ed',
                            strokeDashArray: 0,
                            xaxis: {
                                lines: {
                                    show: false,
                                },
                            },
                            yaxis: {
                                lines: {
                                    show: true,
                                },
                            },
                            padding: {
                                top: 0,
                                right: 0,
                                bottom: 0,
                                left: 0,
                            },
                        },

                    };

                },

                // daily Samples
                get weekChartOptions() {
                    return {
                        series: [
                            // {
                            //     name: 'Sales',
                            //     data: [44, 55, 41, 67, 22]
                            // },
                        ],
                        chart: {
                            height: 160,
                            type: 'bar',
                            fontFamily: 'Nunito, sans-serif',
                            toolbar: {
                                show: false,
                            },
                            stacked: true,
                            stackType: '100%',
                        },
                        dataLabels: {
                            enabled: false,
                        },
                        stroke: {
                            show: true,
                            width: 1,
                        },
                        colors: ['#e2a03f', '#e0e6ed'],
                        responsive: [
                            {
                                breakpoint: 480,
                                options: {
                                    legend: {
                                        position: 'bottom',
                                        offsetX: -10,
                                        offsetY: 0,
                                    },
                                },
                            },
                        ],
                        xaxis: {
                            labels: {
                                show: false,
                            },
                            categories: [],
                        },
                        yaxis: {
                            show: false,
                        },
                        fill: {
                            opacity: 1,
                        },
                        plotOptions: {
                            bar: {
                                horizontal: false,
                                columnWidth: '25%',
                            },
                        },
                        legend: {
                            show: false,
                        },
                        grid: {
                            show: false,
                            xaxis: {
                                lines: {
                                    show: false,
                                },
                            },
                            padding: {
                                top: 10,
                                right: -20,
                                bottom: -20,
                                left: -20,
                            },
                        },
                    };
                },

                // statistics
                get sampleWeeksOptions() {
                    return {
                        series: [
                            {
                                data: [21, 9, 36, 12, 44,],
                            },
                        ],
                        chart: {
                            height: 58,
                            type: 'area',
                            fontFamily: 'Nunito, sans-serif',
                            sparkline: {
                                enabled: true,
                            },
                            dropShadow: {
                                enabled: true,
                                blur: 3,
                                color: '#009688',
                                opacity: 0.4,
                            },
                        },
                        dataLabels: {
                            formatter: (val) => {
                                return val / 1000 + 'K'
                            }
                        },
                        stroke: {
                            curve: 'smooth',
                            width: 2,
                        },
                        colors: ['#009688', '#e2a03f'],
                        grid: {
                            padding: {
                                top: 5,
                                bottom: 5,
                                left: 5,
                                right: 5,
                            },
                        },
                        tooltip: {
                            x: {
                                show: false,
                            },
                            y: {
                                title: {
                                    formatter: (formatter = () => {
                                        return '';
                                    }),
                                },
                            },
                        },
                    };
                },
                get samplesDaysOptions() {
                    return {
                        series: [
                            {
                                data: [44, 12, 36, 9, 21],
                            },
                        ],
                        chart: {
                            height: 58,
                            type: 'area',
                            fontFamily: 'Nunito, sans-serif',
                            sparkline: {
                                enabled: true,
                            },
                            dropShadow: {
                                enabled: true,
                                blur: 3,
                                color: '#e2a03f',
                                opacity: 0.4,
                            },
                        },
                        stroke: {
                            curve: 'smooth',
                            width: 2,
                        },
                        colors: ['#e2a03f'],
                        grid: {
                            padding: {
                                top: 5,
                                bottom: 5,
                                left: 5,
                                right: 5,
                            },
                        },
                        tooltip: {
                            x: {
                                show: false,
                            },
                            y: {
                                title: {
                                    formatter: (formatter = () => {
                                        return '';
                                    }),
                                },
                            },
                        },
                    };
                },

                get stackedBarOptions() {
                    return {
                        series: [],
                        chart: {
                            type: 'bar',
                            height: 350,
                            stacked: true,
                            toolbar: {
                                show: true
                            },
                            zoom: {
                                enabled: true
                            }
                        },
                        responsive: [{
                            breakpoint: 480,
                            options: {
                                legend: {
                                    position: 'bottom',
                                    offsetX: -10,
                                    offsetY: 0
                                }
                            }
                        }],
                        plotOptions: {
                            bar: {
                                horizontal: false,
                                // borderRadius: 10,
                                // borderRadiusApplication: 'end', // 'around', 'end'
                                // borderRadiusWhenStacked: 'last', // 'all', 'last'
                                dataLabels: {
                                    total: {
                                        enabled: false,
                                        style: {
                                            fontSize: '13px',
                                            fontWeight: 900
                                        }
                                    }
                                }
                            },
                        },

                        xaxis: {
                            categories: [],
                        },
                        yaxis: {
                            tickAmount: 5,
                            labels: {
                                formatter: (value) => {
                                    return value / 1000 + 'K';
                                },
                                offsetX: isRtl ? -30 : -10,
                                offsetY: 0,
                                style: {
                                    fontSize: '12px',
                                    cssClass: 'apexcharts-yaxis-title',
                                },
                            },
                            opposite: isRtl ? true : false,
                        },

                        fill: {
                            opacity: 1
                        },
                        tooltip: {
                            // marker: {
                            //     show: true,
                            // },
                            y: {
                                formatter: function (val) {
                                    return val.toFixed(2); // Format menjadi 2 angka desimal
                                }
                            }
                        },
                        grid: {
                            borderColor: isDark ? '#191e3a' : '#e0e6ed',
                            strokeDashArray: 0,
                            xaxis: {
                                lines: {
                                    show: false,
                                },
                            },
                            yaxis: {
                                lines: {
                                    show: true,
                                },
                            },
                            padding: {
                                top: 0,
                                right: 0,
                                bottom: 0,
                                left: 0,
                            },
                        },

                    };
                }
            }));

        });
    </script>

</body>

</html>